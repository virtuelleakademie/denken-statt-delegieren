<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>speaker-notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="speaker-notes_files/libs/clipboard/clipboard.min.js"></script>
<script src="speaker-notes_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="speaker-notes_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="speaker-notes_files/libs/quarto-html/popper.min.js"></script>
<script src="speaker-notes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="speaker-notes_files/libs/quarto-html/anchor.min.js"></script>
<link href="speaker-notes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="speaker-notes_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="speaker-notes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="speaker-notes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="speaker-notes_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="speaker-notes-how-humans-learn" class="level1">
<h1>Speaker Notes: How Humans Learn</h1>
<p><strong>Total Time: 15-18 minutes</strong></p>
<hr>
<section id="slide-1-what-you-just-experienced" class="level2">
<h2 class="anchored" data-anchor-id="slide-1-what-you-just-experienced">Slide 1: What You Just Experienced</h2>
<p><strong>Time: 2-3 minutes</strong></p>
<p><strong>Opening Hook:</strong> “Let’s connect what you just experienced to the science of learning. You’ve done something most people never do consciously—used three different research modes and can now compare how they felt.”</p>
<p><strong>Key Points:</strong> - <strong>Acknowledge their experience</strong>: “Mode 1 without AI probably felt slower and uncertain. Mode 2 with a single prompt likely felt fast and comprehensive. Mode 3 with collaborative AI probably felt engaging and interactive.” - <strong>The critical question</strong>: “But here’s what most people never ask: Which mode will you remember and be able to use independently a week from now?” - <strong>Set up the core tension</strong>: “What feels efficient or engaging in the moment often doesn’t build lasting capability.”</p>
<p><strong>Speaker Script:</strong> “You’ve just experienced three fundamentally different ways of engaging with information. Take a moment to reflect on how each mode <em>felt</em>. The without-AI mode probably felt frustrating—slower progress, more uncertainty. The single AI prompt gave you that satisfying feeling of comprehensive, confident answers. The collaborative session might have felt the most engaging and interactive.</p>
<p>But here’s the critical question that determines whether you actually learned anything: Which of these approaches will you be able to use independently next week? The immediate feeling of efficiency doesn’t predict what builds lasting capability in your brain.”</p>
<p><strong>Transition:</strong> “This tension between what feels good and what builds expertise isn’t just about convenience—it’s about fundamental differences in how your brain learns. Let’s dive into the science…”</p>
<hr>
</section>
<section id="slide-2-why-schools-exist---the-knowledge-divide" class="level2">
<h2 class="anchored" data-anchor-id="slide-2-why-schools-exist---the-knowledge-divide">Slide 2: Why Schools Exist - The Knowledge Divide</h2>
<p><strong>Time: 2 minutes</strong></p>
<p><strong>Core Message:</strong> “To understand why AI disrupts learning so profoundly, we need to understand why schools exist in the first place.”</p>
<p><strong>Key Points:</strong> - <strong>Biologically Primary Knowledge</strong>: “We evolved to learn certain things naturally—speaking, recognizing faces, reading social cues, basic problem-solving. Watch any toddler learn language without formal instruction.” - <strong>Biologically Secondary Knowledge</strong>: “But we absolutely did not evolve to decode written symbols, manipulate abstract mathematical concepts, or understand programming logic. These are recent cultural inventions.” - <strong>The critical distinction</strong>: “Natural discovery works for primary knowledge. It fails catastrophically for secondary knowledge—the academic skills that define expertise in our world.”</p>
<p><strong>Speaker Script:</strong> “Human brains evolved over millions of years to master certain skills naturally. Every healthy child learns to speak, recognize faces, and navigate social relationships without formal instruction. This is biologically primary knowledge—we’re wired for it.</p>
<p>But reading? Mathematics? Programming? These are biologically secondary skills. They’re cultural inventions that hijack brain systems designed for other purposes. You can’t just ‘pick up’ algebra by being around it. This is why schools exist—to provide the explicit instruction and structured practice that secondary knowledge requires.”</p>
<p><strong>AI Connection:</strong> “AI treats all knowledge as if it were primary—as if you can just intuit or discover any answer. But academic expertise requires the deliberate building of cognitive structures through practice.”</p>
<p><strong>Transition:</strong> “So how exactly does this structured practice build expertise? Let’s look at what actually happens in your brain…”</p>
<hr>
</section>
<section id="slide-3-how-expertise-actually-develops" class="level2">
<h2 class="anchored" data-anchor-id="slide-3-how-expertise-actually-develops">Slide 3: How Expertise Actually Develops</h2>
<p><strong>Time: 2-3 minutes</strong></p>
<p><strong>Core Message:</strong> “Your brain has two completely different memory systems. Understanding how they work together explains why shortcuts don’t create expertise.”</p>
<p><strong>Memory Systems Explanation:</strong></p>
<p><strong>Declarative Memory (Knowing That):</strong> - “This is everything you consciously know—facts, rules, procedures. When you’re solving 3x + 5 = 20 and thinking ‘I need to subtract 5 from both sides,’ that’s declarative memory at work.” - “It’s slow, effortful, and requires conscious attention.”</p>
<p><strong>Procedural Memory (Knowing How):</strong> - “This is everything you do automatically. When an expert mathematician sees 3x + 5 = 20 and immediately knows x = 5 without conscious steps, that’s procedural memory.” - “It’s fast, effortless, and often unconscious—experts can’t always explain how they know.”</p>
<p><strong>The Expertise Journey:</strong> “Expertise is the transformation from slow, effortful declarative knowledge to fast, automatic procedural knowledge. This requires thousands of practice cycles where your brain physically rewires itself. Each struggle, each attempt, each error strengthens the neural pathways that create automaticity.”</p>
<p><strong>Visual Reference:</strong> “The ACT-R diagram shows this process—facts and rules gradually become compiled procedures through repeated use. The struggle isn’t a bug in this system—it’s the essential feature that creates the brain changes.”</p>
<p><strong>AI Connection:</strong> “Here’s the fundamental problem: AI provides the endpoint—the automatic, expert-level answer—without the journey that creates the neural changes. It’s like trying to build muscle by watching someone else exercise.”</p>
<p><strong>Transition:</strong> “But there’s another crucial step in this journey that AI completely bypasses…”</p>
<hr>
</section>
<section id="slide-4-the-weak-to-strong-methods-journey" class="level2">
<h2 class="anchored" data-anchor-id="slide-4-the-weak-to-strong-methods-journey">Slide 4: The Weak-to-Strong Methods Journey</h2>
<p><strong>Time: 2-3 minutes</strong></p>
<p><strong>Core Message:</strong> “Expertise isn’t just about having the right answers—it’s about progressing through fundamentally different ways of thinking about problems.”</p>
<p><strong>The Three Stages:</strong></p>
<p><strong>1. Weak Methods (Novice Stage):</strong> - “When you lack domain knowledge, you rely on general strategies—trial and error, working backward, making surface analogies. These feel inefficient, but they’re absolutely essential.” - “Every expert started here. You can’t skip this stage.”</p>
<p><strong>2. Proceduralization (Transition Phase):</strong> - “Repeated patterns start chunking together. You’re still conscious of the process, but it becomes more fluid. You make fewer errors and work faster.” - “This is where the real learning happens—where isolated facts become connected procedures.”</p>
<p><strong>3. Strong Methods (Expert Stage):</strong> - “Domain-specific pattern recognition becomes automatic. Forward chaining replaces backward reasoning. Deep structural understanding emerges.” - “Experts don’t just know more—they think differently.”</p>
<p><strong>The Critical AI Problem:</strong> “AI provides strong methods—expert-level pattern recognition and answers—to people who haven’t developed through weak methods. This skips the essential struggle phase where procedural knowledge is built.”</p>
<p><strong>Why This Matters:</strong> “When novices use expert tools, they miss building the foundational cognitive structures that enable true understanding. They become dependent on the tool because they never developed the underlying thinking processes.”</p>
<p><strong>Transition:</strong> “Let’s get even more specific about how these thinking processes are built in the brain…”</p>
<hr>
</section>
<section id="slide-5-productions---your-brains-atomic-thinking-steps" class="level2">
<h2 class="anchored" data-anchor-id="slide-5-productions---your-brains-atomic-thinking-steps">Slide 5: Productions - Your Brain’s Atomic Thinking Steps</h2>
<p><strong>Time: 2-3 minutes</strong></p>
<p><strong>Core Message:</strong> “Complex expertise isn’t magic—it’s thousands of tiny IF-THEN rules called productions that your brain builds and strengthens through practice.”</p>
<p><strong>What Productions Are:</strong> - “Productions are like the atoms of thinking—simple IF-THEN rules that serve as building blocks for complex skills.” - “Examples: IF I see ‘3x + 5 = 20’ THEN subtract 5 from both sides. IF my code won’t compile THEN check syntax first. IF I need to remember something THEN repeat it internally.”</p>
<p><strong>Production Competition:</strong> “When you encounter a problem, multiple productions compete in your brain. The strongest one fires automatically. Early in learning, you might have weak ‘guess and check’ productions competing with slightly stronger ‘apply the rule’ productions. Through practice, the effective productions become so strong they fire without conscious thought.”</p>
<p><strong>The Building Process:</strong> “Each time you successfully use a production, it gets stronger. Each successful application makes it more likely to win the competition next time. This is why practice matters—not just repetition, but successful application that strengthens the right neural pathways.”</p>
<p><strong>Scale of Expertise:</strong> “Complex expertise requires thousands of these atomic thinking steps compiled together. Chess masters have approximately 50,000 chess-specific productions. Expert programmers have thousands of programming-specific productions.”</p>
<p><strong>The AI Bypass Problem:</strong> “Here’s why AI is so problematic for learning: it provides the final answer without building any of these atomic thinking steps. It’s like trying to build a house by starting with the roof—you get the appearance of the finished product without the foundation that makes it stable.”</p>
<p><strong>Visual Reference:</strong> “The ACT-R diagram shows how these productions compete and get strengthened. Notice that the system requires the learner to actually use the productions to make them stronger.”</p>
<p><strong>Transition:</strong> “So what exactly happens when AI bypasses this entire system?”</p>
<hr>
</section>
<section id="slide-6-the-ai-bypass-problem" class="level2">
<h2 class="anchored" data-anchor-id="slide-6-the-ai-bypass-problem">Slide 6: The AI Bypass Problem</h2>
<p><strong>Time: 2 minutes</strong></p>
<p><strong>Core Message:</strong> “AI doesn’t just make learning less efficient—it actively prevents the three brain mechanisms that create expertise.”</p>
<p><strong>Three Ways Learning Gets Disrupted:</strong></p>
<p><strong>1. No Prediction Errors:</strong> - “Your brain learns by making predictions about what will work, then updating based on errors. This prediction-error cycle is fundamental to all learning.” - “AI eliminates this entirely—no predictions, no attempts, no errors, no learning updates.”</p>
<p><strong>2. No Memory Formation:</strong> - “Information that isn’t actively processed by working memory doesn’t get stored in long-term memory. This isn’t just inefficient—it’s how the brain works.” - “When AI provides answers, your working memory never processes the information, so nothing gets encoded for future use.”</p>
<p><strong>3. No Procedural Development:</strong> - “Building those atomic thinking steps requires thousands of repetitions where you actually execute the procedures.” - “AI skips straight to the final answer, so no productions get built or strengthened.”</p>
<p><strong>The Result:</strong> “You get surface fluency without deep understanding. Students appear competent—they can discuss complex topics and produce sophisticated-looking work—but they’ve built no actual cognitive capability.”</p>
<p><strong>The Dependency Trap:</strong> “Without underlying procedures, learners become completely dependent on the AI tool. Remove the tool, and the apparent expertise collapses immediately.”</p>
<p><strong>Transition:</strong> “You might think this is just theoretical speculation, but we have hard evidence that this is happening right now…”</p>
<hr>
</section>
<section id="slide-7-the-research-reality" class="level2">
<h2 class="anchored" data-anchor-id="slide-7-the-research-reality">Slide 7: The Research Reality</h2>
<p><strong>Time: 2 minutes</strong></p>
<p><strong>Core Message:</strong> “This isn’t speculation—we have data showing AI is already damaging learning across multiple domains.”</p>
<p><strong>Present the Evidence:</strong></p>
<p><strong>68% Reduction in Critical Thinking:</strong> “Knowledge workers who regularly use AI show 68% worse performance on critical thinking tasks. They become confident in their reasoning but lose the ability to evaluate their own thinking.”</p>
<p><strong>Surface Learning in Programming:</strong> “Computer science students using ChatGPT learn only surface patterns. They can produce code that looks correct but can’t solve novel problems or debug when things go wrong.”</p>
<p><strong>Flynn Effect Reversal:</strong> “IQ scores have been declining since the 1970s—exactly when we started using external tools to replace mental effort like memorization and mental calculation.”</p>
<p><strong>Immediate Dependency:</strong> “Students who use AI for math homework can’t solve basic problems without it after just a few sessions of AI-assisted practice.”</p>
<p><strong>The Historical Pattern:</strong> “We’ve seen this before. When schools moved away from memorization—‘Why memorize when you can look it up?’—we thought we were being progressive. But neuroscience now proves that memorization builds the cognitive structures that enable higher-order thinking.”</p>
<p><strong>The Irony:</strong> “We keep abandoning proven learning methods just as science confirms why they work. We’re making the same mistake again, but faster and at larger scale.”</p>
<p><strong>Transition:</strong> “So what can we do? Here are evidence-based guidelines that actually work…”</p>
<hr>
</section>
<section id="slide-8-evidence-based-guidelines" class="level2">
<h2 class="anchored" data-anchor-id="slide-8-evidence-based-guidelines">Slide 8: Evidence-Based Guidelines</h2>
<p><strong>Time: 3-4 minutes</strong></p>
<p><strong>Core Message:</strong> “The solution isn’t to ban AI—it’s to use it in ways that enhance rather than replace the cognitive processes that build expertise.”</p>
<p><strong>The Five Guidelines:</strong></p>
<p><strong>1. Embrace the Struggle:</strong> - “Confusion isn’t a sign that learning is broken—it’s a sign that learning is happening. Your brain needs to encounter gaps between what it expects and what it finds.” - “Allow sufficient struggle time before seeking AI help. The discomfort you feel is cognitive growth.”</p>
<p><strong>2. Practice Retrieval:</strong> - “Test yourself before checking answers. Explain concepts without notes. Teach what you’re learning to others.” - “Retrieval practice builds the neural pathways that make knowledge accessible when you need it.”</p>
<p><strong>3. Space Your Learning:</strong> - “Return to concepts over days and weeks. Allow some forgetting between sessions—relearning strengthens memory more than continuous review.” - “Spacing forces your brain to rebuild the neural pathways, making them more robust.”</p>
<p><strong>4. Vary Your Practice:</strong> - “Mix problem types. Change contexts. Seek novel applications of what you’re learning.” - “Variation builds flexible knowledge that transfers to new situations.”</p>
<p><strong>5. Protect Your Prediction Errors:</strong> - “Make attempts before seeking help. Notice when your expectations don’t match outcomes. Use errors as learning opportunities.” - “Prediction errors are the signal your brain uses to update its models. Protect this process.”</p>
<p><strong>The Strategic Use of AI:</strong> “Use AI to reduce irrelevant cognitive load, not to eliminate essential cognitive work. Ask yourself: Am I using this tool to enhance my thinking or replace it?”</p>
<p><strong>The Test:</strong> “If you can’t explain your reasoning without AI, you haven’t learned—you’ve outsourced. If you can’t solve similar problems independently after multiple attempts, you’re building dependency, not capability.”</p>
<p><strong>Transition:</strong> “These guidelines point to a bigger picture about how we should teach…”</p>
<hr>
</section>
<section id="slide-9-teaching-that-matches-how-brains-learn" class="level2">
<h2 class="anchored" data-anchor-id="slide-9-teaching-that-matches-how-brains-learn">Slide 9: Teaching That Matches How Brains Learn</h2>
<p><strong>Time: 2-3 minutes</strong></p>
<p><strong>Core Message:</strong> “If we understand how brains actually build expertise, we can design learning experiences that work with these natural processes instead of against them.”</p>
<p><strong>Four Principles:</strong></p>
<p><strong>1. Respect the Developmental Sequence:</strong> - “Weak methods must come first—they’re not inefficiency, they’re the foundation. Students need to struggle with general approaches before they can appreciate domain-specific solutions.” - “You can’t shortcut to expert thinking without building the underlying cognitive structures.”</p>
<p><strong>2. Calibrate Cognitive Load:</strong> - “Novices need simplified, sequential presentation. Their working memory is easily overwhelmed.” - “Experts can handle complex, parallel information because they’ve built the cognitive structures to manage it.” - “The same material must be presented differently based on expertise level.”</p>
<p><strong>3. Protect the Struggle Window:</strong> - “Allow sufficient time for independent struggle before AI consultation. Document thinking processes before seeking external help.” - “Multiple attempts should be required before accessing solutions. The struggle is where learning happens.”</p>
<p><strong>4. Scaffold, Don’t Substitute:</strong> - “Use AI to reduce irrelevant cognitive load, not eliminate all mental effort.” - “Provide worked examples that show the process, not just answers. Gradually fade support as competence develops.” - “The goal is independence, not permanent dependence on tools.”</p>
<p><strong>The Key Insight:</strong> “AI is an expert-level tool. Using it before building foundational skills through weak methods isn’t just ineffective—it actively prevents the neural processes that create expertise.”</p>
<p><strong>The Challenge:</strong> “Design learning experiences that match how brains actually develop competence, not how we wish they worked.”</p>
<p><strong>Final Message:</strong> “The choice is clear: we can optimize for immediate comfort and efficiency, or we can design for lasting capability and true understanding. Choose wisely.”</p>
<hr>
</section>
<section id="qa-preparation-5-8-minutes" class="level2">
<h2 class="anchored" data-anchor-id="qa-preparation-5-8-minutes">Q&amp;A Preparation (5-8 minutes)</h2>
<section id="common-questions-and-responses" class="level3">
<h3 class="anchored" data-anchor-id="common-questions-and-responses">Common Questions and Responses:</h3>
<p><strong>“But AI helps me think through problems iteratively—isn’t that collaborative learning?”</strong> “It can be, if you’re truly driving the process. The test is simple: Remove the AI. Can you recreate the reasoning independently? If not, you were a passenger, not the driver. True collaboration builds your capability even when the collaborator isn’t there.”</p>
<p><strong>“What about using AI for research and finding information?”</strong> “There’s an important distinction between using AI to access information versus using it to generate thinking. Using AI to find sources, summarize background material, or handle routine tasks can reduce irrelevant cognitive load. But using it to generate ideas, solve problems, or make arguments for you eliminates the essential cognitive work.”</p>
<p><strong>“Isn’t this just like calculators or spell-check? Those didn’t destroy mathematical thinking.”</strong> “Great question, but there’s a crucial difference in scope. Calculators handle arithmetic—a small component of mathematical thinking. AI handles the reasoning itself. It’s the difference between using a hammer as a tool versus having someone else build the entire house for you.”</p>
<p><strong>“How do we implement this with institutional pressure for quick results?”</strong> “Start small with ‘AI-free zones’ for foundational skills. Change assessment to evaluate process, not just products. Help administrators understand that short-term efficiency gains often create long-term capability gaps. Most importantly, help students understand why struggle builds capability.”</p>
<p><strong>“What about students who are really struggling—shouldn’t they get help?”</strong> “Absolutely, but there’s a difference between scaffolding and bypassing. Provide worked examples, break problems into manageable steps, offer targeted hints—but maintain the cognitive work that builds understanding. The goal is to support thinking, not replace it.”</p>
<p><strong>“How do we know when AI use is helpful versus harmful?”</strong> “Ask these questions: Does this tool require me to think through the problem, or does it do the thinking for me? Am I building capability that persists when the tool is removed? Would I be able to teach someone else this process without the AI?”</p>
</section>
<section id="preparation-notes" class="level3">
<h3 class="anchored" data-anchor-id="preparation-notes">Preparation Notes:</h3>
<ul>
<li>Have specific examples ready from your discipline</li>
<li>Keep tone encouraging, not condemning—most people are using AI with good intentions</li>
<li>Emphasize that this is about strategic use, not elimination</li>
<li>Be prepared to discuss implementation challenges</li>
<li>Have backup slides about specific AI tools if time permits</li>
</ul>
</section>
<section id="time-management" class="level3">
<h3 class="anchored" data-anchor-id="time-management">Time Management:</h3>
<ul>
<li>If running short, focus on the core research findings and practical guidelines</li>
<li>If you have extra time, dive deeper into specific examples or implementation strategies</li>
<li>Always leave 2-3 minutes for final questions and closing thoughts</li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>